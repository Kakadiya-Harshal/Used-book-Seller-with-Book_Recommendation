{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Button}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import Product from'../components/Product';import Paginate from'../components/Paginate';import Meta from'../components/Meta';import{listProducts}from'../actions/productActions';import{PRODUCT_CREATE_RESET}from'../types/productConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Landing=function Landing(_ref){var match=_ref.match;var keyword=match.params.keyword;var pageNumber=match.params.pageNumber||1;var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products,page=productList.page,pages=productList.pages;var userLogin=useSelector(function(state){return state.userLogin;});var userData=userLogin.userData;useEffect(function(){dispatch({type:PRODUCT_CREATE_RESET});dispatch(listProducts(keyword,pageNumber));},[dispatch,keyword,pageNumber]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Meta,{}),keyword&&/*#__PURE__*/_jsx(Link,{className:\"btn btn-success\",to:\"/\",children:\"Go Back\"}),/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Books On Sale\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsx(LinkContainer,{to:userData?'/createproduct':'/login',children:/*#__PURE__*/_jsxs(Button,{className:\"btn-primary  \",children:[/*#__PURE__*/_jsx(\"i\",{style:{color:'white'},className:\"fas fa-plus\"}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"textcolor\",children:\"Add Books\"})]})})})]}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})}),/*#__PURE__*/_jsx(Paginate,{className:\"paginate\",pages:pages,page:page,keyword:keyword?keyword:''})]})]});};export default Landing;","map":{"version":3,"names":["React","useEffect","LinkContainer","Link","useDispatch","useSelector","Row","Col","Button","Loader","Message","Product","Paginate","Meta","listProducts","PRODUCT_CREATE_RESET","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Landing","_ref","match","keyword","params","pageNumber","dispatch","productList","state","loading","error","products","page","pages","userLogin","userData","type","children","className","to","style","color","variant","map","product","sm","md","lg","_id"],"sources":["C:/Used Book Selller with Recommendation/frontend/src/screens/Landing.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Button } from 'react-bootstrap'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Product from '../components/Product'\r\nimport Paginate from '../components/Paginate'\r\nimport Meta from '../components/Meta'\r\nimport { listProducts } from '../actions/productActions'\r\nimport { PRODUCT_CREATE_RESET } from '../types/productConstants'\r\nconst Landing = ({  match }) => {\r\n  const keyword = match.params.keyword\r\n  const pageNumber = match.params.pageNumber || 1\r\n  const dispatch = useDispatch()\r\n  const productList = useSelector((state) => state.productList)\r\n  const { loading, error, products, page, pages } = productList\r\n  const userLogin = useSelector((state) => state.userLogin)\r\n  const { userData } = userLogin\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: PRODUCT_CREATE_RESET })\r\n\r\n    dispatch(listProducts(keyword, pageNumber))\r\n  }, [dispatch, keyword, pageNumber])\r\n\r\n  return (\r\n    <>\r\n      <Meta />\r\n      {keyword && (\r\n        <Link className='btn btn-success' to='/'>\r\n          Go Back\r\n        </Link>\r\n      )}\r\n      <Row className='align-items-center'>\r\n        <Col>\r\n          <h3>Books On Sale</h3>\r\n        </Col>\r\n        <Col className='text-right'>\r\n          <LinkContainer to={userData ? '/createproduct' : '/login'}>\r\n            <Button className='btn-primary  '>\r\n              <i style={{ color: 'white' }} className='fas fa-plus'></i>{' '}\r\n              <span className='textcolor'>Add Books</span>\r\n            </Button>\r\n          </LinkContainer>\r\n        </Col>\r\n      </Row>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant='danger'>{error}</Message>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            {products.map((product) => (\r\n              <Col key={product._id} sm={12} md={6} lg={4}>\r\n                <Product product={product} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Paginate\r\n            className='paginate'\r\n            pages={pages}\r\n            page={page}\r\n            keyword={keyword ? keyword : ''}\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\nexport default Landing\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}