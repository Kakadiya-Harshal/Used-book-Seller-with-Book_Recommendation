{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Button,Form}from'react-bootstrap';import{register}from'../actions/userActions';import Message from'../components/Message';import Loader from'../components/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmailVerificationScreen=function EmailVerificationScreen(_ref){var location=_ref.location,match=_ref.match,history=_ref.history;var token=match.params.token;var dispatch=useDispatch();var userRegister=useSelector(function(state){return state.userRegister;});var userData=userRegister.userData,loading=userRegister.loading,error=userRegister.error;var redirect=location.search?location.search.split('=')[1]:'/';useEffect(function(){if(userData){history.push(redirect);}dispatch(register(token));},[history,userData,redirect,token]);return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(Message,{variant:\"primary\",children:\"Waiting for the confirmation....\"}),loading&&/*#__PURE__*/_jsx(Loader,{}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error})]}),/*#__PURE__*/_jsx(Col,{md:2})]});};export default EmailVerificationScreen;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Row","Col","Button","Form","register","Message","Loader","jsx","_jsx","jsxs","_jsxs","EmailVerificationScreen","_ref","location","match","history","token","params","dispatch","userRegister","state","userData","loading","error","redirect","search","split","push","children","md","variant"],"sources":["C:/Used Book Selller with Recommendation/frontend/src/screens/EmailVerificationScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Button, Form } from 'react-bootstrap'\r\nimport { register } from '../actions/userActions'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nconst EmailVerificationScreen = ({ location, match, history }) => {\r\n  const token = match.params.token\r\n  const dispatch = useDispatch()\r\n  const userRegister = useSelector((state) => state.userRegister)\r\n  const { userData, loading, error } = userRegister\r\n  const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n  useEffect(() => {\r\n    if (userData) {\r\n      history.push(redirect)\r\n    }\r\n    dispatch(register(token))\r\n  }, [history, userData, redirect, token])\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={2}></Col>\r\n      <Col md={6}>\r\n        <Message variant='primary'>Waiting for the confirmation....</Message>\r\n        {loading && <Loader />}\r\n        {error && <Message variant='danger'>{error}</Message>}\r\n      </Col>\r\n      <Col md={2}></Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default EmailVerificationScreen\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,GAAG,CAAEC,GAAG,CAAEC,MAAM,CAAEC,IAAI,KAAQ,iBAAiB,CACxD,OAASC,QAAQ,KAAQ,wBAAwB,CACjD,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACzC,GAAM,CAAAC,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAAC,IAAA,CAAqC,IAA/B,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,KAAK,CAAAF,IAAA,CAALE,KAAK,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CACzD,GAAM,CAAAC,KAAK,CAAGF,KAAK,CAACG,MAAM,CAACD,KAAK,CAChC,GAAM,CAAAE,QAAQ,CAAGpB,WAAW,EAAE,CAC9B,GAAM,CAAAqB,YAAY,CAAGpB,WAAW,CAAC,SAACqB,KAAK,QAAK,CAAAA,KAAK,CAACD,YAAY,GAAC,CAC/D,GAAQ,CAAAE,QAAQ,CAAqBF,YAAY,CAAzCE,QAAQ,CAAEC,OAAO,CAAYH,YAAY,CAA/BG,OAAO,CAAEC,KAAK,CAAKJ,YAAY,CAAtBI,KAAK,CAChC,GAAM,CAAAC,QAAQ,CAAGX,QAAQ,CAACY,MAAM,CAAGZ,QAAQ,CAACY,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAG,GAAG,CAEtE9B,SAAS,CAAC,UAAM,CACd,GAAIyB,QAAQ,CAAE,CACZN,OAAO,CAACY,IAAI,CAACH,QAAQ,CAAC,CACxB,CACAN,QAAQ,CAACd,QAAQ,CAACY,KAAK,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACD,OAAO,CAAEM,QAAQ,CAAEG,QAAQ,CAAER,KAAK,CAAC,CAAC,CAExC,mBACEN,KAAA,CAACV,GAAG,EAAA4B,QAAA,eACFpB,IAAA,CAACP,GAAG,EAAC4B,EAAE,CAAE,CAAE,EAAO,cAClBnB,KAAA,CAACT,GAAG,EAAC4B,EAAE,CAAE,CAAE,CAAAD,QAAA,eACTpB,IAAA,CAACH,OAAO,EAACyB,OAAO,CAAC,SAAS,CAAAF,QAAA,CAAC,kCAAgC,EAAU,CACpEN,OAAO,eAAId,IAAA,CAACF,MAAM,IAAG,CACrBiB,KAAK,eAAIf,IAAA,CAACH,OAAO,EAACyB,OAAO,CAAC,QAAQ,CAAAF,QAAA,CAAEL,KAAK,EAAW,GACjD,cACNf,IAAA,CAACP,GAAG,EAAC4B,EAAE,CAAE,CAAE,EAAO,GACd,CAEV,CAAC,CAED,cAAe,CAAAlB,uBAAuB"},"metadata":{},"sourceType":"module"}